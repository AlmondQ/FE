<html>
<head>
    <title>Margin</title>
    <style>
        .marginbefore{
            width:380px;height:200px;margin-right: -50px;float:left;background-color: green;
        }
        .marginminus{
            width:386.66px;height:200px;margin-right: 20px;float:left;background-color: green;
        }
    </style>
</head>
<body>
<h1>Margin改变容器尺寸</h1>
<h3>Margin与可视尺寸</h3>
<p>适用于没有设定width/height的普通block水平元素（改变可视区域的水平宽度）</p>
<p style="text-decoration:line-through">float元素，absolute/fixed元素，inline水平，table-cell元素，。。。</p>
<p style="margin:0;background-color:seagreen;">无margin</p>
<p style="margin:10px 20px;background-color:seagreen;">margin高10px 宽20px</p>
<p style="margin:10px 30px;background-color:seagreen;">margin高10px 宽30px</p>
<p style="margin:20px 20px;background-color:seagreen;">margin高20px 宽20px</p>
<p style="margin:10px -30px 10px 30px;background-color:seagreen;">margin-top/bottom 10px margin-left 30px margin-right -30px</p>
<p style="margin:10px 0 10px -30px;background-color:seagreen;">margin-top/bottom 10px margin-left -30px margin-right 0</p>
<p style="margin:10px 30px -20px;background-color:seagreen;">margin-top 10px marign-bottom -20px margin-left/right 30px，当margin-bottom为负时，元素本身不偏移，其后元素受影响/p>
<h3>Margin与占据尺寸</h3>
<p>block/inline-block水平元素均适用，与有没有设定width/height无关，适用于水平方向和垂直方向</p>
<div style="background-color:rosybrown;">
    <img src="https://gss1.bdstatic.com/9vo3dSag_xI4khGkpoWK1HF6hhy/baike/c0%3Dbaike80%2C5%2C5%2C80%2C26/sign=8748d27dd109b3deffb2ec3aadd607e4/dbb44aed2e738bd4621ac724a18b87d6277ff9e8.jpg">
    没有设置margin-bottom
</div>
<br/>
<div style="background-color:rosybrown;">
    <img src="https://gss1.bdstatic.com/9vo3dSag_xI4khGkpoWK1HF6hhy/baike/c0%3Dbaike80%2C5%2C5%2C80%2C26/sign=8748d27dd109b3deffb2ec3aadd607e4/dbb44aed2e738bd4621ac724a18b87d6277ff9e8.jpg" style="margin-bottom:100px;">
    设置了margin-bottom
</div>
<h1>Margin与百分比</h1>
当Margin为百分比数值时，意思是宽和高都是父元素的<strong>宽度</strong>的相应的百分比
外部容器宽600px，高200px，图片margin设置为20%，可见margin-top和margin-left是一样的，都为容器宽度的20%
<div style="width:600px;height:200px;background-color:silver;">
    <img src="https://gss1.bdstatic.com/9vo3dSag_xI4khGkpoWK1HF6hhy/baike/c0%3Dbaike80%2C5%2C5%2C80%2C26/sign=8748d27dd109b3deffb2ec3aadd607e4/dbb44aed2e738bd4621ac724a18b87d6277ff9e8.jpg" style="margin:20%;">
</div>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
外部容器宽600px，高200px，图片margin设置为15%，margin-top和margin-left是一样的，但不是容器宽度的15%，因为绝对定位元素的margin百分比是相对于最近的具有定位属性的祖先元素（relative/absolute/fixed）宽度计算的
<div style="width:600px;height:200px;background-color:silver">
    <img src="https://gss1.bdstatic.com/9vo3dSag_xI4khGkpoWK1HF6hhy/baike/c0%3Dbaike80%2C5%2C5%2C80%2C26/sign=8748d27dd109b3deffb2ec3aadd607e4/dbb44aed2e738bd4621ac724a18b87d6277ff9e8.jpg" style="margin:15%;position:absolute">

</div>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
宽高2：1自适应矩形
<div style="background-color: olive;overflow:hidden;">
    <div style="margin:50%"></div>
</div>
<h1>Margin重叠</h1>
<p>只发生在block水平元素，不包括float和absolute元素</p>
<p>不考虑writing-mode，只发生在垂直方向（margin-top,margin-bottom）</p>
<h3>相邻兄弟元素的margin重叠</h3>
第一行与第二行之间只有1em
<p style="line-height: 2em;margin:1em 0;background-color: deepskyblue">第一行</p>
<p style="line-height: 2em;margin:1em 0;background-color: deepskyblue">第二行</p>
<h3>父子margin重叠及其条件</h3>
<p>父元素与第一个或最后一个子元素会margin重叠，条件是：父元素非BFC元素、没有设置border-top/bottom、padding-top/bottom，父元素与第一个/最后一个子元素之间没有inline元素分隔，另外，margin-bottom重叠还有一个条件，父元素没有设置height，min-height，max-height</p>
<div style="background-color: blanchedalmond">
    <div style="margin-top:10px;">我是son</div>
</div>
<div style="background-color: blanchedalmond;margin-top: 10px;">
    <div style="margin-top:10px;">我是son</div>
</div>
<div style="background-color: blanchedalmond;margin-top: 10px;">
    <div style="">我是son</div>
</div>
以上三种写法是等价的
<h3>空元素的margin重叠</h3>
<p>条件：没有设置border，padding，里边没有inline元素，没有height或者min-height</p>
margin设置为20px，实际高度只有20px，而非40px
<div style="background-color: bisque;overflow: hidden">
    <div style="margin:20px"></div>
</div>
<h3 style="margin:0;">Margin重叠计算规则</h3>
正正取最大，正负相加，负负取最负
<h1>Margin auto</h1>
分配剩余空间：block水平元素默认宽度填满父元素，如下div默认应为宽度填充满父容器，但是强制宽度为500px，则右侧会剩下父元素-500px的宽度
<div style="width:500px;height: 100px;background-color: seagreen"></div>
margin-right=auto则会分配这个剩余的空间(虽然此时并没有什么区别)
<div style="width:500px;height: 100px;background-color: seagreen;margin-right: auto"></div>
分配原则是，如果一侧为定值一侧为auto，auto为剩余空间大小；如果两侧均是auto，则平分剩余空间，可利用来实现水平居中
<div style="width:500px;height: 100px;background-color: seagreen;margin:0 auto"></div>
还可以垂直水平都居中，这就很厉害了！(但是只对IE8以上有效)
<div style="background-color: grey;position: relative;height: 200px;">
    <div style="background-color: cadetblue;position: absolute;top:0;left:0;right:0;bottom:0;width:300px;height:100px;margin:auto"></div>
</div>
<h1>Margin负值定位</h1>
想要实现两端对齐，此时右侧会有多余的20px，如果修改列表块的宽度会导致空间不够列表3在新的一行
<div style="background-color: orangered;margin:auto;width:1200px;">
    <div style="overflow: hidden">
        <div class="marginbefore">列表1</div>
        <div class="marginbefore">列表2</div>
        <div class="marginbefore">列表3</div>
    </div>
</div>
<br/>
如下，设置装列表的盒子的margin-right为负值，即可改变该盒子的元素尺寸，则不会发生列表3下移
<div style="background-color: orangered;margin:auto;width:1200px;">
    <div style="overflow: hidden;margin-right: -20px;">
        <div class="marginminus">列表1</div>
        <div class="marginminus">列表2</div>
        <div class="marginminus">列表3</div>
    </div>
</div>
还可以实现文字右侧自适应图片，但是又不会导致dom顺序与实际视觉效果不一致
<div style="float:left;width:100%;background-color: burlywood;">
    <div style="margin-right: 170px">图片右浮实际float为left图片右浮实际float为left图片右浮实际float为left图片右浮实际float为left图片右浮实际float为left图片右浮实际float为left图片右浮实际float为left图片右浮实际float为left图片右浮实际float为left图片右浮实际float为left图片右浮实际float为left图片右浮实际float为left图片右浮实际float为left图片右浮实际float为left图片右浮实际float为left图片右浮实际float为left图片右浮实际float为left图片右浮实际float为left图片右浮实际float为left图片右浮实际float为left图片右浮实际float为left图片右浮实际float为left图片右浮实际float为left图片右浮实际float为left图片右浮实际float为left图片右浮实际float为left图片右浮实际float为left图片右浮实际float为left</div>
</div>
<img width="150px" style="float: left;margin-left: -150px" src="http://img1.imgtn.bdimg.com/it/u=4106322241,526822283&fm=214&gp=0.jpg;">
我自己总结滴原理：当元素浮动时，margin-left为负可以使该元素向左偏移，并盖住前面的浮动元素；别人总结的：负margin会改变浮动元素的显示位置，即使我的元素写在DOM的后面，我也能让它显示在最前面。
<div style="float: left;height: 200px;background-color: darkorange;width: 100%"></div>
<div style="float: left;width:200px;height: 100px;margin-left: -100%;background-color: #cccccc"></div>
<div style="float: left;width:200px;height: 100px;margin-left: -200px;background-color: #cccccc"></div>
<br/>
<br/>
两列自适应
<div style="overflow: hidden;width: 100%;resize:vertical;">
    <div style="float:left;width: 50%;background-color: darkseagreen;height:50px;margin-bottom: -600px;padding-bottom: 600px;"></div>
    <div style="float:left;width: 50%;background-color: brown;height: 100px;"></div>
</div>
<h1>Margin失效情形</h1>
<h3>inline水平元素垂直margin无效</h3>
<p>条件：非替换元素（img，video等），正常书写模式</p>
<h3>Margin重叠</h3>
<h3>display:table-cell/table-row margin不起作用</h3>
<p>替换元素除外</p>
</body>
</html>